(this.webpackJsonpchat_react_firebase=this.webpackJsonpchat_react_firebase||[]).push([[0],{20:function(e,t,n){e.exports={overlay:"Modal_overlay__1YNqx",modal:"Modal_modal__15uRO",button:"Modal_button__29A2v",closebtn:"Modal_closebtn__F-ELs Modal_button__29A2v",switchbtn:"Modal_switchbtn__3kOLH Modal_button__29A2v"}},24:function(e,t,n){e.exports={MassageList:"Massage_MassageList__p0zE4",Item:"Massage_Item__3l-Th",UserName:"Massage_UserName__1ajdu",UserMassage:"Massage_UserMassage__rdq5X"}},25:function(e,t,n){e.exports={container:"Header_container__1-FnW",header:"Header_header__1p4fa",icon:"Header_icon__1qjPk",online:"Header_online__20a6V Header_icon__1qjPk",offline:"Header_offline__39UNX Header_icon__1qjPk",button:"Header_button__1rYK7"}},28:function(e,t,n){e.exports={Form:"SendBox_Form__1jPDK",Input:"SendBox_Input__KARD8",Button:"SendBox_Button__9atU8"}},31:function(e,t,n){e.exports={Section:"Main_Section__3Y553",Container:"Main_Container__xjy9c"}},32:function(e,t,n){e.exports={Section:"Footer_Section__3hsDD",Container:"Footer_Container__2f5Fp"}},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(7),s=n.n(a),r=n(21),c=n.n(r),i=n(3),o=n(5),l=n(8),u=n(9),d=n(31),h=n.n(d),m=n(6),b=function(e){var t=e.children;return Object(m.jsx)("main",{children:Object(m.jsx)("section",{className:h.a.Section,children:Object(m.jsx)("div",{className:h.a.Container,children:t})})})},j=n(25),p=n.n(j),g=n(19),O=n(34),f=n(14),v=(Object(O.a)({apiKey:"AIzaSyB2GhFkUipTzzgiF4QxbwvvRTipNdBzZQk",authDomain:"chat-react-firebase-nande.firebaseapp.com",databaseURL:"https://chat-react-firebase-nande-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chat-react-firebase-nande",storageBucket:"chat-react-firebase-nande.appspot.com",messagingSenderId:"733483402422",appId:"1:733483402422:web:b46958be6ebde37b181217"}),Object(f.a)()),_=(Object(f.d)(Object(f.a)()),Object(g.b)()),x=(_.currentUser,sessionStorage.getItem("userId"),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).LogOut=function(){return Object(g.e)(_).then((function(){sessionStorage.removeItem("userId"),e.props.onlineCheck()}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.online?"online":"offline";return Object(m.jsx)("header",{className:p.a.header,children:Object(m.jsxs)("div",{className:p.a.container,children:[Object(m.jsx)("div",{className:p.a[e]}),Object(m.jsx)("div",{children:this.props.online?Object(m.jsx)("button",{type:"s.button",className:p.a.button,onClick:this.LogOut,children:Object(m.jsx)("p",{children:"LogOut"})}):Object(m.jsx)("button",{type:"s.button",className:p.a.button,onClick:this.props.onClick,children:Object(m.jsx)("p",{children:"LogIn"})})})]})})}}]),n}(a.PureComponent)),y=x,N=n(32),C=n.n(N),k=function(e){var t=e.children;return Object(m.jsx)("footer",{children:Object(m.jsx)("section",{className:C.a.Section,children:Object(m.jsx)("div",{className:C.a.Container,children:t})})})},S=n(20),I=n.n(S),w=document.querySelector("#modal-root"),M=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(Object(m.jsx)("div",{className:I.a.overlay,onClick:this.handleBackdropClick,children:Object(m.jsxs)("div",{className:I.a.modal,children:[Object(m.jsx)(m.Fragment,{children:this.props.children}),Object(m.jsx)("button",{type:"button",className:I.a.closebtn,onClick:this.props.onClose})]})}),w)}}]),n}(a.PureComponent),U=M,F=n(30),L=n(0),D=n.n(L),P=n(4);function B(e,t){return q.apply(this,arguments)}function q(){return(q=Object(P.a)(D.a.mark((function e(t,n){var a,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:return a=Object(f.d)(v,"message"),s=Object(f.c)(a),e.next=6,Object(f.f)(s,{message:n});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(28),H=n.n(A),E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={message:""},e.handleNameChange=function(t){e.setState({message:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""!==e.state.message.trim()){var n={text:e.state.message,userId:sessionStorage.getItem("userId"),userName:sessionStorage.getItem("userName"),time:Object(f.e)()};B(sessionStorage.getItem("userId"),n),e.setState({message:""})}else F.a.warn("Input message!")},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("form",{className:H.a.Form,onSubmit:this.handleSubmit,children:[Object(m.jsx)("textarea",{type:"text",autoComplete:"off",autoFocus:!0,className:H.a.Input,value:this.state.message,onChange:this.handleNameChange}),Object(m.jsxs)("button",{type:"submit",className:H.a.Button,children:[" ","Send"]})]})}}]),n}(a.PureComponent),T=E,K=n(2),z=function(e){var t=e.email,n=e.pass,a=e.onChange;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("label",{className:"",children:[Object(m.jsx)("span",{className:"",children:"Email"}),Object(m.jsx)("input",{type:"email",name:"email",className:"",title:"***@mail.com",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",required:!0,value:t,onChange:a})]}),Object(m.jsxs)("label",{className:"",children:[Object(m.jsx)("span",{className:"",children:"Password"}),Object(m.jsx)("input",{type:"password",name:"pass",className:"",required:!0,minLength:"5",value:n,onChange:a})]})]})},R=function(e){var t=e.name,n=e.email,a=e.pass,s=e.onChange;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("label",{className:"",children:[Object(m.jsx)("span",{className:"",children:"Name"}),Object(m.jsx)("input",{type:"text",name:"name",id:"singup-name",required:!0,className:"",value:t,onChange:s})]}),Object(m.jsxs)("label",{className:"",children:[Object(m.jsx)("span",{className:"",children:"Email"}),Object(m.jsx)("input",{type:"email",name:"email",className:"",title:"***@mail.com",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",required:!0,value:n,onChange:s})]}),Object(m.jsxs)("label",{className:"",children:[Object(m.jsx)("span",{className:"",children:"Password"}),Object(m.jsx)("input",{type:"password",name:"pass",className:"",required:!0,minLength:"5",value:a,onChange:s})]})]})},Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={name:"",email:"",pass:"",sigin:!0},e.changeModal=function(){e.setState((function(e){return{sigin:!e.sigin}}))},e.handleChange=function(t){var n=t.currentTarget,a=n.name,s=n.value;e.setState(Object(K.a)({},a,s))},e.handleSubmit=function(t){t.preventDefault();var n=e.state.email,a=e.state.pass;e.props.onClose(),e.state.sigin?e.signInUser(n,a):e.regUser(n,a)},e}return Object(o.a)(n,[{key:"regUser",value:function(e,t){var n=this;return Object(g.a)(_,e,t).then((function(e){return n.props.onlineCheck(),n.updateInUser(n.state.name),e.user.uid})).catch((function(e){e.message}))}},{key:"signInUser",value:function(e,t){var n=this;return console.log(e),Object(g.d)(_,e,t).then((function(e){return n.props.onlineCheck(),e.user})).catch((function(e){e.message}))}},{key:"updateInUser",value:function(e){return Object(g.f)(_.currentUser,{displayName:"".concat(e)})}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("form",{className:I.a.content,action:"registration",onSubmit:this.handleSubmit,children:[Object(m.jsx)("div",{children:this.state.sigin?Object(m.jsx)(z,{email:this.state.email,pass:this.state.pass,onChange:this.handleChange}):Object(m.jsx)(R,{name:this.state.name,email:this.state.email,pass:this.state.pass,onChange:this.handleChange})}),Object(m.jsx)("button",{type:"submit",className:"","aria-label":"submit-form",children:this.state.sigin?"Sign In":"Sign Up"})]}),Object(m.jsx)("button",{type:"button",className:I.a.switchbtn,onClick:this.changeModal,children:this.state.sigin?"Sign Up":"Sign In"})]})}}]),n}(a.PureComponent),J=Y,Q=n(24),W=n.n(Q),X=function(e){var t=e.message,n=new Date(t.time),a={time:n.toLocaleTimeString(),day:n.getUTCDate(),mon:n.getDate(),year:n.getFullYear()},s=null,r="red";return sessionStorage.getItem("userName")===t.userName&&(s="auto",r="blue"),Object(m.jsxs)("li",{className:W.a.Item,style:{marginLeft:s},children:[Object(m.jsx)("h3",{className:W.a.UserName,style:{background:r},children:t.userName}),Object(m.jsx)("p",{className:W.a.UserMassage,children:t.text}),Object(m.jsxs)("p",{children:[a.day,".",a.mon,".",a.year," ",a.time]})]})},G=n(36),V=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={message:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=Object(f.d)(v,"message");Object(f.b)(t,(function(t){var n=t.val();console.log(n);var a=[];for(var s in n)a.push(n[s].message);e.setState({message:a})}))}},{key:"render",value:function(){var e=this.state.message;return Object(m.jsx)("ul",{className:W.a.MassageList,children:e.map((function(e){return Object(m.jsx)(X,{message:e},Object(G.a)())}))})}}]),n}(a.PureComponent),Z=V,$=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={showModal:!1,message:null,online:null!==sessionStorage.getItem("userId")},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.handleFormSubmit=function(t){e.setState({message:t})},e.onlineCheck=function(){e.setState((function(e){e.online;return{online:null!==sessionStorage.getItem("userId")}}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){return Object(g.c)(_,(function(e){if(e){var t=e.uid;return sessionStorage.setItem("userName","".concat(e.displayName)),sessionStorage.setItem("userId","".concat(t))}}))}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{onClick:this.toggleModal,online:this.state.online,onlineCheck:this.onlineCheck}),Object(m.jsx)(b,{children:Object(m.jsx)(Z,{})}),Object(m.jsx)(k,{children:Object(m.jsx)(T,{onSubmit:this.handleFormSubmit})}),this.state.showModal&&Object(m.jsx)(U,{onClose:this.toggleModal,children:Object(m.jsx)(J,{onClose:this.toggleModal,onlineCheck:this.onlineCheck})})]})}}]),n}(a.PureComponent),ee=$;n(45);c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(ee,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.be413a00.chunk.js.map